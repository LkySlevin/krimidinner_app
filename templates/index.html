{% extends "base.html" %}

{% block title %}Krimidinner - Startseite{% endblock %}

{% block content %}
<h1>ğŸ•µï¸ Krimidinner / Werwolf-Spiel ğŸŒ•</h1>

<div class="info-box">
    <h2>Willkommen beim Krimidinner!</h2>
    <p>Dies ist der lokale Webserver fÃ¼r das Werwolf-Krimidinner-Spiel.</p>
</div>

{% if game_started %}
    <div class="alert alert-success">
        <strong>âœ“ Spiel lÃ¤uft!</strong> Das Spiel wurde erfolgreich gestartet.
    </div>

    <h3>Spieler-Links</h3>
    <p>Die Spieler kÃ¶nnen ihre individuellen Rollen Ã¼ber folgende Links abrufen:</p>

    <div style="margin: 20px 0;">
        <a href="{{ url_for('qr_codes') }}" class="btn">ğŸ“± QR-Codes & Links anzeigen</a>
    </div>

    <h3>Charaktere</h3>
    {% for char in characters %}
        {% set assigned_letter = letter_mapping.get(char.id, char.letter) %}
        <div class="player-link">
            <strong>[{{ assigned_letter }}] {{ char.name }}</strong>:
            <a href="{{ url_for('player_view', slug=char.url_slug) }}" target="_blank">
                {{ request.host_url }}player/{{ char.url_slug }}
            </a>
        </div>
    {% endfor %}

{% else %}
    <div class="alert alert-error">
        <strong>âš  Spiel noch nicht gestartet</strong>
        <p>Bitte gehe zur Admin-Seite, um das Spiel zu konfigurieren und zu starten.</p>
    </div>
{% endif %}

<div style="margin-top: 30px; text-align: center;">
    <a href="{{ url_for('admin') }}" class="btn">âš™ï¸ Zur Admin-Seite</a>
</div>

{% endblock %}
